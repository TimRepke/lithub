This is mainly copied from here:
https://github.com/long2ice/fastapi-cache

However, that had a few shortcomings, so here is a simplified version with some feature changes.